{% if location['id'] is defined %}
    {% set locationId = location['id'] %}
    {% set locationName = location['name'] %}
    {% set locationInboundShipping = location['inbound_shipping'] %}
    {% set locationOutboundShipping = location['outbound_shipping'] %}
    {% set locationCanStock = location['can_stock'] %}
    {% set locationAddressId = location['address_id'] %}
    {% set locationStreetAddress = location['street_address'] %}
    {% set locationStreetAddress2 = location['street_address_2'] %}
    {% set locationCityId = location['city_id'] %}
    {% set locationCity = location['city_name'] %}
    {% set locationPostCode = location['post_code'] %}
    {% set locationStateId = location['state_id'] %}
    {% set locationState = location['state_name'] %}
    {% set locationCountryId = location['country_id'] %}
    {% set locationCountry = location['country_name'] %}
    {% set locationNotes = location['notes'] %}
{% else %}
    {% set locationId = '' %}
    {% set locationName = '' %}
    {% set locationInboundShipping = '' %}
    {% set locationOutboundShipping = '' %}
    {% set locationCanStock = '' %}
    {% set locationAddressId = '' %}
    {% set locationStreetAddress = '' %}
    {% set locationStreetAddress2 = '' %}
    {% set locationCityId = '' %}
    {% set locationCity = '' %}
    {% set locationPostCode = '' %}
    {% set locationStateId = '' %}
    {% set locationState = '' %}
    {% set locationCountryId = '' %}
    {% set locationCountry = '' %}
    {% set locationNotes = '' %}
{% endif %}
{% if locationInboundShipping == '1' %}
    {% set locationInboundShippingChecked = true %}
{% else %}
    {% set locationInboundShippingChecked = false %}
{% endif %}
{% if locationOutboundShipping == '1' %}
    {% set locationOutboundShippingChecked = true %}
{% else %}
    {% set locationOutboundShippingChecked = false %}
{% endif %}
{% if locationCanStock == '1' %}
    {% set locationCanStockChecked = true %}
{% else %}
    {% set locationCanStockChecked = false %}
{% endif %}
<form data-validateon="section" id="{{componentId}}-{{sectionId}}-form">
    <fieldset id="{{componentId}}-{{sectionId}}-fieldset">
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'id',
                        'fieldLabel'                     : 'Location ID',
                        'fieldType'                      : 'input',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Location ID',
                        'fieldRequired'                  : true,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : false,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldHidden'                    : true,
                        'fieldDisabled'                  : true,
                        'fieldValue'                     : locationId
                    ]
                )}}
            </div>
        </div>
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'name',
                        'fieldLabel'                     : 'Location Name',
                        'fieldType'                      : 'input',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Location Name Example: Main Shop',
                        'fieldRequired'                  : true,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldDataInputMinLength'        : 1,
                        'fieldDataInputMaxLength'        : 50,
                        'fieldValue'                     : locationName
                    ]
                )}}
            </div>
        </div>
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'inbound_shipping',
                        'fieldLabel'                     : 'Inbound Shipping?',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Does location accepts returns or shipment from suppliers?',
                        'fieldType'                      : 'checkbox',
                        'fieldCheckboxType'              : 'success',
                        'fieldCheckboxChecked'           : locationInboundShippingChecked,
                        'fieldCheckboxAdditionClass'     : 'text-sm text-uppercase',
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true
                    ]
                )}}
            </div>
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'outbound_shipping',
                        'fieldLabel'                     : 'Outbound Shipping?',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Does location ship products to customer?',
                        'fieldType'                      : 'checkbox',
                        'fieldCheckboxType'              : 'success',
                        'fieldCheckboxChecked'           : locationOutboundShippingChecked,
                        'fieldCheckboxAdditionClass'     : 'text-sm text-uppercase',
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true
                    ]
                )}}
            </div>
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'can_stock',
                        'fieldLabel'                     : 'Can Stock?',
                        'fieldType'                      : 'checkbox',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Does location stock items/products? In case of warehouse or shop location.',
                        'fieldCheckboxType'              : 'success',
                        'fieldCheckboxChecked'           : locationCanStockChecked,
                        'fieldCheckboxAdditionClass'     : 'text-sm text-uppercase',
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true
                    ]
                )}}
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col">
                {% include 'common/address/view' with
                    [
                        'component'                                   : component,
                        'componentName'                               : componentName,
                        'componentId'                                 : componentId,
                        'sectionId'                                   : sectionId,
                        'includeStreet'                               : true,
                        'searchType'                                  : 'city',
                        'streetAddress'                               : locationStreetAddress,
                        'streetAddressFieldBazPostOnCreate'           : true,
                        'streetAddressFieldBazPostOnUpdate'           : true,
                        'streetAddress2'                              : locationStreetAddress2,
                        'streetAddress2FieldBazPostOnCreate'          : true,
                        'streetAddress2FieldBazPostOnUpdate'          : true,
                        'cityId'                                      : locationCityId,
                        'cityName'                                    : locationCity,
                        'cityFieldBazPostOnCreate'                    : true,
                        'cityFieldBazPostOnUpdate'                    : true,
                        'postCode'                                    : locationPostCode,
                        'postCodeFieldBazPostOnCreate'                : true,
                        'postCodeFieldBazPostOnUpdate'                : true,
                        'stateId'                                     : locationStateId,
                        'stateName'                                   : locationState,
                        'stateFieldBazPostOnCreate'                   : true,
                        'stateFieldBazPostOnUpdate'                   : true,
                        'countryId'                                   : locationCountryId,
                        'countryName'                                 : locationCountry,
                        'countryFieldBazPostOnCreate'                 : true,
                        'countryFieldBazPostOnUpdate'                 : true
                    ]
                %}
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'address_id',
                        'fieldLabel'                     : 'Location Address ID',
                        'fieldType'                      : 'input',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Location Address ID',
                        'fieldRequired'                  : true,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : false,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldHidden'                    : true,
                        'fieldDisabled'                  : true,
                        'fieldValue'                     : locationAddressId
                    ]
                )}}
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'notes',
                        'fieldLabel'                     : 'Location Notes',
                        'fieldType'                      : 'textarea',
                        'fieldDataMaxLength'             : 1024,
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Notes of the location',
                        'fieldRequired'                  : false,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldDataInputMaxLength'        : 1024,
                        'fieldTextareaRows'              : 2,
                        'fieldValue'                     : locationNotes
                    ]
                )}}
            </div>
        </div>
    </fieldset>
</form>
<script>
/* globals BazContentFieldsValidator */
var dataCollectionComponent, dataCollectionSection, dataCollectionSectionForm;

if (!window['dataCollection']['{{componentId}}']) {
    dataCollectionComponent =
        window['dataCollection']['{{componentId}}'] = { };
} else {
    dataCollectionComponent =
        window['dataCollection']['{{componentId}}'];
}
if (!dataCollectionComponent['{{componentId}}-{{sectionId}}']) {
    dataCollectionSection =
        dataCollectionComponent['{{componentId}}-{{sectionId}}'] = { };
} else {
    dataCollectionSection =
        dataCollectionComponent['{{componentId}}-{{sectionId}}'];
}
if (!dataCollectionSection['{{componentId}}-{{sectionId}}-form']) {
    dataCollectionSectionForm =
        dataCollectionSection['{{componentId}}-{{sectionId}}-form'] = { };
} else {
    dataCollectionSectionForm =
        dataCollectionSection['{{componentId}}-{{sectionId}}-form'];
}

dataCollectionSection =
    $.extend(dataCollectionSection, {
        '{{componentId}}-{{sectionId}}-id'                      : { },
        '{{componentId}}-{{sectionId}}-name'                    : { },
        '{{componentId}}-{{sectionId}}-inbound_shipping'        : { },
        '{{componentId}}-{{sectionId}}-outbound_shipping'       : { },
        '{{componentId}}-{{sectionId}}-can_stock'               : { },
        '{{componentId}}-{{sectionId}}-address_id'              : { },
        '{{componentId}}-{{sectionId}}-notes'                   : { },
        '{{componentId}}-{{sectionId}}-form'                    : {
            rules: {
                '{{componentId}}-{{sectionId}}-name'                   : 'required',
                '{{componentId}}-{{sectionId}}-street_address'         : 'required',
                '{{componentId}}-{{sectionId}}-city'                   : 'required',
                '{{componentId}}-{{sectionId}}-post_code'              : 'required',
                '{{componentId}}-{{sectionId}}-state'                  : 'required',
                '{{componentId}}-{{sectionId}}-country'                : 'required',
            },
            messages: {
                '{{componentId}}-{{sectionId}}-name'                   : 'Please enter location name',
                '{{componentId}}-{{sectionId}}-street_address'         : 'Please enter street address',
                '{{componentId}}-{{sectionId}}-city'                   : 'Please enter city',
                '{{componentId}}-{{sectionId}}-post_code'              : 'Please enter post code',
                '{{componentId}}-{{sectionId}}-state'                  : 'Please enter state',
                '{{componentId}}-{{sectionId}}-country'                : 'Please enter country'
            }
        }
    });
</script>