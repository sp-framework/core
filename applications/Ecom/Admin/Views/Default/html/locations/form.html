{% if location['id'] is defined %}
    {% set locationId = location['id'] %}
    {% set locationName = location['name'] %}
    {% set locationType = location['type'] %}
    {% set locationDescription = location['description'] %}
    {% set locationPrimaryContact = location['primary_contact'] %}
    {% set locationSecondaryContact = location['secondary_contact'] %}
    {% set locationInboundShipping = location['inbound_shipping'] %}
    {% set locationOutboundShipping = location['outbound_shipping'] %}
    {% set locationStreetAddress = location['street_address'] %}
    {% set locationStreetAddress2 = location['street_address_2'] %}
    {% set locationCityId = location['city_id'] %}
    {% set locationCity = location['city_name'] %}
    {% set locationPostCode = location['post_code'] %}
    {% set locationStateId = location['state_id'] %}
    {% set locationState = location['state_name'] %}
    {% set locationCountryId = location['country_id'] %}
    {% set locationCountry = location['country_name'] %}
{% else %}
    {% set locationId = '' %}
    {% set locationName = '' %}
    {% set locationType = '' %}
    {% set locationDescription = '' %}
    {% set locationPrimaryContact = '' %}
    {% set locationSecondaryContact = '' %}
    {% set locationInboundShipping = '' %}
    {% set locationOutboundShipping = '' %}
    {% set locationStreetAddress = '' %}
    {% set locationStreetAddress2 = '' %}
    {% set locationCityId = '' %}
    {% set locationCity = '' %}
    {% set locationPostCode = '' %}
    {% set locationStateId = '' %}
    {% set locationState = '' %}
    {% set locationCountryId = '' %}
    {% set locationCountry = '' %}
{% endif %}
{% if locationInboundShipping == '1' %}
    {% set locationInboundShippingChecked = true %}
{% else %}
    {% set locationInboundShippingChecked = false %}
{% endif %}
{% if locationOutboundShipping == '1' %}
    {% set locationOutboundShippingChecked = true %}
{% else %}
    {% set locationOutboundShippingChecked = false %}
{% endif %}
<form data-validateon="section" id="{{componentId}}-{{sectionId}}-form">
    <fieldset id="{{componentId}}-{{sectionId}}-fieldset">
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'id',
                        'fieldLabel'                     : 'Location ID',
                        'fieldType'                      : 'input',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Location ID',
                        'fieldRequired'                  : true,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : false,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldHidden'                    : true,
                        'fieldDisabled'                  : true,
                        'fieldValue'                     : locationId
                    ]
                )}}
            </div>
        </div>
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'name',
                        'fieldLabel'                     : 'Location Name',
                        'fieldType'                      : 'input',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Location Name Example: Main Shop',
                        'fieldRequired'                  : true,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldDataInputMinLength'        : 1,
                        'fieldDataInputMaxLength'        : 50,
                        'fieldValue'                     : locationName
                    ]
                )}}
            </div>
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'type',
                        'fieldLabel'                     : 'Location Type',
                        'fieldType'                      : 'select2',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Location Type',
                        'fieldRequired'                  : true,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldDataSelect2Options'        :
                            {
                                '1'            :
                                    {
                                        'id'            : '1',
                                        'name'          : 'Shop'
                                    },
                                '2'            :
                                    {
                                        'id'            : '2',
                                        'name'          : 'Warehouse'
                                    },
                                '3'            :
                                    {
                                        'id'            : '3',
                                        'name'          : 'Office'
                                    },
                                '4'            :
                                    {
                                        'id'            : '4',
                                        'name'          : 'Home Office'
                                    },
                                '5'            :
                                    {
                                        'id'            : '5',
                                        'name'          : 'Storage'
                                    },
                                '6'            :
                                    {
                                        'id'            : '6',
                                        'name'          : 'Show Grounds'
                                    }
                            },
                        'fieldDataSelect2OptionsKey'           : 'id',
                        'fieldDataSelect2OptionsValue'         : 'name',
                        'fieldDataSelect2OptionsArray'         : true,
                        'fieldDataSelect2OptionsSelected'      : locationType
                    ]
                )}}
            </div>
        </div>
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'primary_contact',
                        'fieldLabel'                     : 'Primary Contact',
                        'fieldType'                      : 'select2',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Select a primary contact for this location.',
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldRequired'                  : true,
                        'fieldDataSelect2Options'        : accounts,
                        'fieldDataSelect2OptionsKey'     : 'id',
                        'fieldDataSelect2OptionsValue'   : 'email',
                        'fieldDataSelect2OptionsArray'   : true,
                        'fieldDataSelect2OptionsSelected': locationPrimaryContact
                    ]
                )}}
            </div>
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'secondary_contact',
                        'fieldLabel'                     : 'Secondary Contact',
                        'fieldType'                      : 'select2',
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Select a secondary contact for this location.',
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldRequired'                  : false,
                        'fieldDataSelect2Options'        : accounts,
                        'fieldDataSelect2OptionsKey'     : 'id',
                        'fieldDataSelect2OptionsValue'   : 'email',
                        'fieldDataSelect2OptionsArray'   : true,
                        'fieldDataSelect2OptionsSelected': locationSecondaryContact
                    ]
                )}}
            </div>
        </div>
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'description',
                        'fieldLabel'                     : 'Location Description',
                        'fieldType'                      : 'textarea',
                        'fieldDataMaxLength'             : 1024,
                        'fieldHelp'                      : true,
                        'fieldHelpTooltipContent'        : 'Description of the location',
                        'fieldRequired'                  : false,
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true,
                        'fieldDataInputMaxLength'        : 1024,
                        'fieldTextareaRows'              : 2,
                        'fieldValue'                     : locationDescription
                    ]
                )}}
            </div>
        </div>
        <div class="row">
            <div class="col">
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'inbound_shipping',
                        'fieldLabel'                     : 'Shipping',
                        'fieldType'                      : 'checkbox',
                        'fieldCheckboxType'              : 'success',
                        'fieldCheckboxChecked'           : locationInboundShippingChecked,
                        'fieldCheckboxLabel'             : 'Inbound Shipping?',
                        'fieldCheckboxAdditionClass'     : 'text-sm text-uppercase',
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true
                    ]
                )}}
                {{adminltetags.useTag('fields',
                    [
                        'component'                      : component,
                        'componentName'                  : componentName,
                        'componentId'                    : componentId,
                        'sectionId'                      : sectionId,
                        'fieldId'                        : 'outbound_shipping',
                        'fieldLabel'                     : false,
                        'fieldType'                      : 'checkbox',
                        'fieldCheckboxType'              : 'success',
                        'fieldCheckboxChecked'           : locationOutboundShippingChecked,
                        'fieldCheckboxLabel'             : 'Outbound Shipping?',
                        'fieldCheckboxAdditionClass'     : 'text-sm text-uppercase',
                        'fieldBazScan'                   : true,
                        'fieldBazPostOnCreate'           : true,
                        'fieldBazPostOnUpdate'           : true
                    ]
                )}}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-sm-12">
                {% include 'common/address/view' with
                    [
                        'component'                                   : component,
                        'componentName'                               : componentName,
                        'componentId'                                 : componentId,
                        'sectionId'                                   : sectionId,
                        'includeStreet'                               : true,
                        'searchType'                                  : 'city',
                        'streetAddress'                               : locationStreetAddress,
                        'streetAddressFieldBazPostOnCreate'           : true,
                        'streetAddressFieldBazPostOnUpdate'           : true,
                        'streetAddress2'                              : locationStreetAddress2,
                        'streetAddress2FieldBazPostOnCreate'          : true,
                        'streetAddress2FieldBazPostOnUpdate'          : true,
                        'cityId'                                      : locationCityId,
                        'cityName'                                    : locationCity,
                        'cityFieldBazPostOnCreate'                    : true,
                        'cityFieldBazPostOnUpdate'                    : true,
                        'postCode'                                    : locationPostCode,
                        'postCodeFieldBazPostOnCreate'                : true,
                        'postCodeFieldBazPostOnUpdate'                : true,
                        'stateId'                                     : locationStateId,
                        'stateName'                                   : locationState,
                        'stateFieldBazPostOnCreate'                   : true,
                        'stateFieldBazPostOnUpdate'                   : true,
                        'countryId'                                   : locationCountryId,
                        'countryName'                                 : locationCountry,
                        'countryFieldBazPostOnCreate'                 : true,
                        'countryFieldBazPostOnUpdate'                 : true
                    ]
                %}
            </div>
        </div>
    </fieldset>
</form>
<script>
/* globals BazContentFieldsValidator */
var dataCollectionComponent, dataCollectionSection, dataCollectionSectionForm;

if (!window['dataCollection']['{{componentId}}']) {
    dataCollectionComponent =
        window['dataCollection']['{{componentId}}'] = { };
} else {
    dataCollectionComponent =
        window['dataCollection']['{{componentId}}'];
}
if (!dataCollectionComponent['{{componentId}}-{{sectionId}}']) {
    dataCollectionSection =
        dataCollectionComponent['{{componentId}}-{{sectionId}}'] = { };
} else {
    dataCollectionSection =
        dataCollectionComponent['{{componentId}}-{{sectionId}}'];
}
if (!dataCollectionSection['{{componentId}}-{{sectionId}}-form']) {
    dataCollectionSectionForm =
        dataCollectionSection['{{componentId}}-{{sectionId}}-form'] = { };
} else {
    dataCollectionSectionForm =
        dataCollectionSection['{{componentId}}-{{sectionId}}-form'];
}

dataCollectionSection =
    $.extend(dataCollectionSection, {
        '{{componentId}}-{{sectionId}}-id'                      : { },
        '{{componentId}}-{{sectionId}}-name'                    : { },
        '{{componentId}}-{{sectionId}}-type'                    : {
            'placeholder' : 'SELECT LOCATION TYPE',
        },
        '{{componentId}}-{{sectionId}}-description'             : { },
        '{{componentId}}-{{sectionId}}-primary_contact'         : {
            'placeholder' : 'SELECT PRIMARY CONTACT',
        },
        '{{componentId}}-{{sectionId}}-secondary_contact'       : {
            'placeholder' : 'SELECT SECONDARY CONTACT',
        },
        '{{componentId}}-{{sectionId}}-inbound_shipping'        : { },
        '{{componentId}}-{{sectionId}}-outbound_shipping'       : { },
        '{{componentId}}-{{sectionId}}-form'                    : {
            rules: {
                '{{componentId}}-{{sectionId}}-name'                   : 'required',
                '{{componentId}}-{{sectionId}}-type'                   : 'required',
                '{{componentId}}-{{sectionId}}-primary_contact'        : 'required',
                '{{componentId}}-{{sectionId}}-street_address'         : 'required',
                '{{componentId}}-{{sectionId}}-city'                   : 'required',
                '{{componentId}}-{{sectionId}}-post_code'              : 'required',
                '{{componentId}}-{{sectionId}}-state'                  : 'required',
                '{{componentId}}-{{sectionId}}-country'                : 'required',
            },
            messages: {
                '{{componentId}}-{{sectionId}}-name'                   : 'Please enter location name',
                '{{componentId}}-{{sectionId}}-type'                   : 'Please select location type',
                '{{componentId}}-{{sectionId}}-primary_contact'        : 'Please select location primary contact',
                '{{componentId}}-{{sectionId}}-street_address'         : 'Please enter street address',
                '{{componentId}}-{{sectionId}}-city'                   : 'Please enter city',
                '{{componentId}}-{{sectionId}}-post_code'              : 'Please enter post code',
                '{{componentId}}-{{sectionId}}-state'                  : 'Please enter state',
                '{{componentId}}-{{sectionId}}-country'                : 'Please enter country'
            }
        }
    });
</script>