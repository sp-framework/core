{% set sectionId = 'sections-list-filter' %}
<form data-validateon="datatable" id="' . $this->params['componentId'] .'-sections-list-filter-filter-form">
    <fieldset id="' . $this->params['componentId'] .'-sections-list-filter-fieldset">
        <div id="' . $this->params['componentId'] .'-sections-list-filter-datatable" data-bazscan="scan" data-bazscantype="datatable" class="row vdivide">
            <div id="' . $this->params['componentId'] .'-sections-list-filter-fields" class="col-md-4 mt-1">
                <div class="row">
                    <div class="col">
{#                         {{include('thelpers/fields/fields.html', {
                            fieldId                             : sectionId ~ '-columns',
                            fieldLabel                          : 'Columns',
                            fieldType                           : 'select2',
                            fieldHelp                           : true,
                            fieldHelpTooltipContent             : 'Select the column to filter',
                            fieldRequired                       : true,
                            fieldBazScan                        : true,
                            fieldBazScanType                    : 'select2',
                            fieldBazPostOnCreate                : true,
                            fieldBazPostOnUpdate                : true,
                            fieldDataSelect2Options             : component.runtime.columns,
                            fieldDataSelect2OptionsKey          : 'name',
                            fieldDataSelect2OptionsValue        : 'value'
                            }
                        )}} #}
                    </div>
                    <div class="col">
{#                         {{include('thelpers/fields/fields.html', {
                            fieldId                             : sectionId ~ '-operator',
                            fieldLabel                          : 'Operator',
                            fieldType                           : 'select2',
                            fieldHelp                           : true,
                            fieldHelpTooltipContent             : 'Select filter operator',
                            fieldBazScan                        : true,
                            fieldBazPostOnCreate                : true,
                            fieldBazPostOnUpdate                : true,
                            fieldBazScanType                    : 'select2',
                            fieldRequired                       : true,
                            fieldDataSelect2Options             : {
                                                                    'equals' : {
                                                                        'id' : 'equals',
                                                                        'name' : 'Equals to'
                                                                    },
                                                                    'lessthan' : {
                                                                        'id' : 'lessthan',
                                                                        'name' : 'Less than'
                                                                    },
                                                                    'greaterthan' : {
                                                                        'id' : 'greaterthan',
                                                                        'name' : 'Greater than'
                                                                    },
                                                                    'lessthanequal' : {
                                                                        'id' : 'lessthanequal',
                                                                        'name' : 'Less than equals to'
                                                                    },
                                                                    'greaterthanequal' : {
                                                                        'id' : 'greaterthanequal',
                                                                        'name' : 'Greater than equals to'
                                                                    },
                                                                    'like' : {
                                                                        'id' : 'like',
                                                                        'name' : 'Like'
                                                                    }
                                                                },
                            fieldDataSelect2OptionsKey          : 'id',
                            fieldDataSelect2OptionsValue        : 'name'
                            }
                        )}} #}
                    </div>
                </div>
                <div class="row">
                    <div class="col">
{#                         {{include('thelpers/fields/fields.html', {
                            fieldId                             : sectionId ~ '-value',
                            fieldLabel                          : 'Filter Value',
                            fieldType                           : 'input-text',
                            fieldHelp                           : true,
                            fieldHelpTooltipContent             : 'Filter value of the selected field',
                            fieldRequired                       : true,
                            fieldBazScan                        : true,
                            fieldBazPostOnCreate                : false,
                            fieldBazPostOnUpdate                : true,
                            fieldBazScanType                    : 'inputTextNumber',
                            fieldBazJstreeSearch                : false,
                            fieldDataMinLength                  : 1,
                            fieldDataMaxLength                  : 45
                            }
                        )}} #}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
{#                         {{include('thelpers/fields/fields.html', {
                            fieldId                             : sectionId ~ '-condition',
                            fieldLabel                          : 'Condition',
                            fieldType                           : 'select2',
                            fieldHelp                           : true,
                            fieldHelpTooltipContent             : 'Select filter operator',
                            fieldBazScan                        : true,
                            fieldBazPostOnCreate                : true,
                            fieldBazPostOnUpdate                : true,
                            fieldBazScanType                    : 'select2',
                            fieldRequired                       : true,
                            fieldDataSelect2Options             : {
                                                                    'and' : {
                                                                        'id' : 'and',
                                                                        'name' : 'AND'
                                                                    },
                                                                    'or' : {
                                                                        'id' : 'or',
                                                                        'name' : 'OR'
                                                                    }
                                                                },
                            fieldDataSelect2OptionsKey          : 'id',
                            fieldDataSelect2OptionsValue        : 'name'
                            }
                        )}} #}
                    </div>
                    <div class="col-md-8">
{#                         {{include('thelpers/buttons.html', {
                            buttonType : 'datatable-buttons'
                            }
                        )}} #}
                    </div>
                </div>
            </div>
            <div id="' . $this->params['componentId'] .'-sections-list-filter-table" class="col-md-8"></div>
        </div>
    </fieldset>
</form>
<hr>
<form data-validateon="sections" id="sections-list-filter-options-form">
    <fieldset id="sections-list-filter-options">
        <div class="row">
            <div class="col-md-9">
                <div class="row vdivide">
                    <div class="col-md-6">
{#                         {{include('thelpers/fields/fields.html', {
                            fieldId                             : sectionId ~ '-saved-filters',
                            fieldLabel                          : 'Saved Filters',
                            fieldType                           : 'select2',
                            fieldHelp                           : true,
                            fieldHelpTooltipContent             : 'Select a saved filter and apply',
                            fieldBazScan                        : true,
                            fieldBazPostOnCreate                : true,
                            fieldBazPostOnUpdate                : true,
                            fieldBazScanType                    : 'select2',
                            fieldRequired                       : true,
                            fieldDataSelect2Options             : {
                                                                    'and' : {
                                                                        'id' : 'and',
                                                                        'name' : 'AND'
                                                                    },
                                                                    'or' : {
                                                                        'id' : 'or',
                                                                        'name' : 'OR'
                                                                    }
                                                                },
                            fieldDataSelect2OptionsKey          : 'id',
                            fieldDataSelect2OptionsValue        : 'name'
                            }
                        )}} #}
                    </div>
                    <div class="col-md-6">
{#                         {{include('thelpers/fields/fields.html', {
                            fieldId                             : sectionId ~ '-name',
                            fieldLabel                          : 'Filter Name',
                            fieldType                           : 'input-text',
                            fieldHelp                           : true,
                            fieldHelpTooltipContent             : 'Filter name to save the above filters',
                            fieldRequired                       : true,
                            fieldBazScan                        : true,
                            fieldBazPostOnCreate                : false,
                            fieldBazPostOnUpdate                : true,
                            fieldBazScanType                    : 'inputTextNumber',
                            fieldBazJstreeSearch                : false,
                            fieldDataMinLength                  : 1,
                            fieldDataMaxLength                  : 45
                            }
                        )}} #}
                    </div>
                </div>
            </div>
            <div class="col-md-3" style="margin-top:23px;">
{#                 {{include("thelpers/buttons.html", {
                        buttonType : 'button',
                        buttons : {
                            'save' : {
                                'id' : 'save',
                                'icon': 'save',
                                'title' : 'Save filters',
                            },
                            'reset' : {
                                'id' : 'reset',
                                'type' : 'danger',
                                'icon' : 'times-circle-o',
                                'title' : 'Reset filters',
                            },
                            'apply' : {
                                'id' : 'apply',
                                'title' : 'Apply filters',
                            }
                        }
                    }
                )}} #}
            </div>
        </div>
    </fieldset>
</form>
<script>
if (!window['bazDataCollection']['{{componentId}}']) {
    window['bazDataCollection']['{{componentId}}'] = { };
}
window['bazDataCollection']['{{componentId}}']['{{componentId}}-{{sectionId}}'] =
    $.extend(window['bazDataCollection']['{{componentId}}']['{{componentId}}-{{sectionId}}'], {
        '{{componentId}}-{{sectionId}}-columns' : {
            placeholder: "SELECT COLUMN TO FILTER",
        },
        '{{componentId}}-{{sectionId}}-operator' : {
            placeholder: "SELECT FILTER OPERATOR",
        },
        '{{componentId}}-{{sectionId}}-value' : {
            placeholder: "FILTER VALUE",
        },
        '{{componentId}}-{{sectionId}}-condition' : {
            placeholder: "FILTER CONDITION",
        },
        '{{componentId}}-{{sectionId}}-saved-filters' : {
            placeholder: "SELECT SAVED FILTERS AND APPLY",
        },
        '{{componentId}}-{{sectionId}}-name' : {
            placeholder: "FILTER NAME",
        },
        '{{componentId}}-{{sectionId}}-form' : {
            rules: {
                '{{componentId}}-{{sectionId}}-columns' : 'required',
            },
            messages: {
                '{{componentId}}-{{sectionId}}-columns' : 'Please select a column',
            }
        },
        '{{componentId}}-{{sectionId}}-datatable' : {
            'dataTables' : ['{{componentId}}-{{sectionId}}-table']
        },
        '{{componentId}}-{{sectionId}}-table' :{
            'tableTitle' : 'Filters',
            'datatable' : {
                'responsive': true,
                'rowReorder': false,
                'searching': false,
                'paging': false
            },
            'bazdatatable' : {
                'rowButtons': {
                    'canEdit': true,
                    'canDelete': true,
                }
            },
            'postSuccess': function(datatable, extractedData) {
            }
        }
    }
);
</script>