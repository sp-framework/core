<div class="row">
    <div class="col">
        {{adminltetags.useTag('buttons',
            [
                'componentId'           : componentId,
                'sectionId'             : sectionId,
                'buttonType'            : 'button',
                'buttons'               :
                    [
                        'edit-new-app' : [
                            'title'                   : 'Edit App',
                            'size'                    : 'sm',
                            'type'                    : 'primary',
                            'buttonAdditionalClass'   : 'contentAjaxLink',
                            'icon'                    : 'link',
                            'url'                     : links.url('apps/view/q/id/')
                        ]
                    ]
            ]
        )}}
    </div>
</div>
<script>
var dataCollectionComponent, dataCollectionSection, dataCollectionSectionForm;

if (!window['dataCollection']['{{componentId}}']) {
    dataCollectionComponent =
        window['dataCollection']['{{componentId}}'] = { };
} else {
    dataCollectionComponent =
        window['dataCollection']['{{componentId}}'];
}
if (!dataCollectionComponent['{{componentId}}-{{sectionId}}']) {
    dataCollectionSection =
        dataCollectionComponent['{{componentId}}-{{sectionId}}'] = { };
} else {
    dataCollectionSection =
        dataCollectionComponent['{{componentId}}-{{sectionId}}'];
}
if (!dataCollectionSection['{{componentId}}-{{sectionId}}-form']) {
    dataCollectionSectionForm =
        dataCollectionSection['{{componentId}}-{{sectionId}}-form'] = { };
} else {
    dataCollectionSectionForm =
        dataCollectionSection['{{componentId}}-{{sectionId}}-form'];
}

$(document).ready(function() {
    dataCollectionSection['steps']['3']['onNext'] =
        function(resolve, reject) {
            if (window['dataCollection']["{{wizardComponentId}}"]["{{wizardSectionId}}"]["steps"]['1']['responseData']['id']) {
                $('#{{componentId}}-{{sectionId}}-edit-new-app').attr(
                    'href',
                    "{{links.url('apps/q/id/')}}" + window['dataCollection']["{{wizardComponentId}}"]["{{wizardSectionId}}"]["steps"]['1']['responseData']['id']
                );

                window['dataCollection']['env']['wizard'] = false;

                return resolve(true);
            }
            return resolve(false);
        }
});
</script>