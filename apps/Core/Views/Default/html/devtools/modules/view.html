{% if module['id'] is defined %}
    {% set moduleName = module['name'] %}
    {% set moduleId = module['id'] %}
    {% if clone is defined and clone == true %}
        {% set moduleId = '' %}
        {% set moduleName = module['name'] ~ ' (Clone)' %}
    {% endif %}
{% else %}
    {% set moduleName = 'New' %}
    {% set moduleId = '0' %}
{% endif %}
{% if bundle['id'] is defined %}
    {% set moduleName = bundle['name'] %}
    {% set moduleId = bundle['id'] %}
{% endif %}
{% if newrelease is defined and newrelease === true %}
    {{adminltetags.useTag('content',
        [
            'component'                     : component,
            'componentName'                 : componentName,
            'componentId'                   : componentId,
            'parentComponentId'             : parent,
            'sectionId'                     : type,
            'contentType'                   : 'sectionWithForm',
            'cardHeader'                    : true,
            'cardFooter'                    : true,
            'cardType'                      : 'success',
            'cardIcon'                      : 'th',
            'cardTitle'                     : 'NEW RELEASE : ' ~ moduleName ~ ' (' ~ type ~ ')',
            'cardAdditionalClass'           : 'rounded-0',
            'cardBodyInclude'               : 'modules/module',
            'formButtons'                   :
            [
                'cancelActionUrl'           : 'devtools/modules'
            ],
            'formSecondaryButtons'          :
            [
                'buttonType'                : 'button',
                'buttons'                   : {
                    'generate' : {
                        'title'                   : 'Generate',
                        'type'                    : 'success',
                        'icon'                    : 'wand-sparkles'
                    }
                }
            ]
        ]
    )}}
{% elseif bundlesjson is defined and bundlesjson === true %}
    {{adminltetags.useTag('content',
        [
            'component'                     : component,
            'componentName'                 : componentName,
            'componentId'                   : componentId,
            'parentComponentId'             : parent,
            'sectionId'                     : type,
            'contentType'                   : 'sectionWithForm',
            'cardHeader'                    : true,
            'cardFooter'                    : true,
            'cardType'                      : 'primary',
            'cardIcon'                      : 'th',
            'cardTitle'                     : 'PUBLISH BUNDLE JSON : ' ~ moduleName ~ ' (' ~ type ~ ')',
            'cardAdditionalClass'           : 'rounded-0',
            'cardBodyInclude'               : 'modules/module',
            'formButtons'                   :
            [
                'cancelActionUrl'           : 'devtools/modules'
            ],
            'formSecondaryButtons'          :
            [
                'buttonType'                : 'button',
                'buttons'                   : {
                    'commit' : {
                        'title'                   : 'Commit to repo',
                        'icon'                    : 'code'
                    }
                }
            ]
        ]
    )}}
{% else %}
    {{adminltetags.useTag('content',
        [
            'component'                     : component,
            'componentName'                 : componentName,
            'componentId'                   : componentId,
            'parentComponentId'             : parent,
            'sectionId'                     : type,
            'contentType'                   : 'sectionWithForm',
            'cardHeader'                    : true,
            'cardFooter'                    : true,
            'cardType'                      : 'primary',
            'cardIcon'                      : 'th',
            'cardTitle'                     : 'Modules : ' ~ moduleName ~ ' (' ~ type ~ ')',
            'cardAdditionalClass'           : 'rounded-0',
            'cardBodyInclude'               : 'modules/module',
            'formButtons'                   :
            [
                'updateButtonId'                : moduleId,
                'addActionUrl'                  : 'devtools/modules/add',
                'addSuccessRedirectUrl'         : 'devtools/modules',
                'updateActionUrl'               : 'devtools/modules/update',
                'updateSuccessRedirectUrl'      : 'devtools/modules',
                'cancelActionUrl'               : 'devtools/modules',
                'closeActionUrl'                : 'devtools/modules'
            ]
        ]
    )}}
{% endif %}