<div class="row vdivide">
    <div id="repo" class="col">
        {% include 'modules/repositories/list.html' %}
    </div>
</div>
<hr>
<div class="row vdivide">
    <div class="col">
        {{adminltetags.useTag('fields',
            [
                'component'                                 : component,
                'componentName'                             : componentName,
                'componentId'                               : componentId,
                'sectionId'                                 : sectionId,
                'fieldId'                                   : 'modules',
                'fieldLabel'                                : 'Modules',
                'fieldType'                                 : 'jstree',
                'fieldHelp'                                 : true,
                'fieldHelpTooltipContent'                   : 'Available modules on repository.',
                'fieldRequired'                             : false,
                'fieldBazScan'                              : true,
                'fieldJstreeSearch'                         : true,
                'fieldBazPostOnCreate'                      : false,
                'fieldBazPostOnUpdate'                      : false,
                'fieldJstreeDataSrcArr'                     : ["modules":["srcArr" : modules]],
                'fieldJstreeAdd'                            : false,
                'fieldJstreeEdit'                           : false,
                'fieldJstreeExpand'                         : true,
                'fieldJstreeCollapse'                       : true,
                'fieldJstreeFirstOpen'                      : true,
                'fieldJstreeAllOpen'                        : false,
                'fieldJstreeAllChecked'                     : false,
                'fieldJstreeRootIcon'                       : 'folder-tree',
                'fieldJstreeToggleAllChildren'              : true,
                'fieldJstreeIncludeRootInPath'              : true,
                'fieldJstreeSelectEndNodeOnly'              : true,
                'fieldJstreeShowDots'                       : true,
                'fieldJstreeDoubleClickToggle'              : true,
                'fieldJstreeMultiple'                       : true,
                'fieldJstreeSearchCaseSensitive'            : false,
                'fieldJstreeSearchShowOnlyMatches'          : false,
                'fieldJstreeSearchShowOnlyMatchesChildren'  : false,
                'fieldJstreeHideJstreeIcons'                : false,
                'fieldJstreeReplaceIdWithDataField'         : 'moduleid',
                'fieldJstreePlugins'                        : ["search", "types"]
            ]
        )}}
    </div>
    <div class="col">
        Info
    </div>
</div>
<hr>
<div id="installer-progress" class="mb-3" hidden></div>
<script>
/*global PNotify */
$('#{{componentId}}-{{sectionId}}-modules').on('select_node.jstree', function() {
    var selected = $('#{{componentId}}-{{sectionId}}-modules').jstree().get_selected();

    //eslint-disable-next-line
    console.log(selected);
});
</script>
{% include 'modules/modal.html' %}