{% if product['id'] is defined %}
    {% set productSpecifications = product['specifications'] %}
{% else %}
    {% set productSpecifications = [] %}
{% endif %}
<div class="row">
    <div class="col">
        {{adminltetags.useTag('fields',
            [
                'component'                            : component,
                'componentName'                        : componentName,
                'componentId'                          : componentId,
                'sectionId'                            : sectionId,
                'fieldId'                              : 'specification_group_id',
                'fieldLabel'                           : 'Specification Group ID',
                'fieldType'                            : 'input',
                'fieldHelp'                            : true,
                'fieldHelpTooltipContent'              : 'Specification group ID',
                'fieldRequired'                        : true,
                'fieldHidden'                          : true,
                'fieldDisabled'                        : true,
                'fieldBazScan'                         : false,
                'fieldBazPostOnCreate'                 : false,
                'fieldBazPostOnUpdate'                 : false
            ]
        )}}
        {{adminltetags.useTag('fields',
            [
                'component'                            : component,
                'componentName'                        : componentName,
                'componentId'                          : componentId,
                'sectionId'                            : sectionId,
                'fieldId'                              : 'specification_group',
                'fieldLabel'                           : 'Specification Group',
                'fieldType'                            : 'input',
                'fieldHelp'                            : true,
                'fieldPlaceholder'                     : 'Search/Create specification group',
                'fieldHelpTooltipContent'              : 'Search/Create specification group',
                'fieldRequired'                        : true,
                'fieldBazScan'                         : true,
                'fieldDataInputMinLength'              : 1,
                'fieldDataInputMaxLength'              : 100,
                'fieldBazPostOnCreate'                 : false,
                'fieldBazPostOnUpdate'                 : false
            ]
        )}}
    </div>
    <div class="col">
        {{adminltetags.useTag('fields',
            [
                'component'                            : component,
                'componentName'                        : componentName,
                'componentId'                          : componentId,
                'sectionId'                            : sectionId,
                'fieldId'                              : 'specification_id',
                'fieldLabel'                           : 'Specification ID',
                'fieldType'                            : 'input',
                'fieldHelp'                            : true,
                'fieldHelpTooltipContent'              : 'Specification ID',
                'fieldRequired'                        : true,
                'fieldHidden'                          : true,
                'fieldDisabled'                        : true,
                'fieldBazScan'                         : false,
                'fieldBazPostOnCreate'                 : false,
                'fieldBazPostOnUpdate'                 : false
            ]
        )}}
        {{adminltetags.useTag('fields',
            [
                'component'                            : component,
                'componentName'                        : componentName,
                'componentId'                          : componentId,
                'sectionId'                            : sectionId,
                'fieldId'                              : 'specification',
                'fieldLabel'                           : 'Specification',
                'fieldType'                            : 'input',
                'fieldHelp'                            : true,
                'fieldPlaceholder'                     : 'Search/Create specification',
                'fieldHelpTooltipContent'              : 'Search/Create specification',
                'fieldRequired'                        : true,
                'fieldDisabled'                        : true,
                'fieldDataInputMinLength'              : 1,
                'fieldDataInputMaxLength'              : 100,
                'fieldBazScan'                         : true
            ]
        )}}
    </div>
</div>
<div class="row">
    <div class="col">
        {{adminltetags.useTag('fields',
            [
                'component'                            : component,
                'componentName'                        : componentName,
                'componentId'                          : componentId,
                'sectionId'                            : sectionId,
                'fieldId'                              : 'specification_value',
                'fieldLabel'                           : 'Specification Value',
                'fieldType'                            : 'textarea',
                'fieldHelp'                            : true,
                'fieldHelpTooltipContent'              : 'Add value for the above selected specification.',
                'fieldRequired'                        : true,
                'fieldDisabled'                        : true,
                'fieldDataSelect2Create'               : true,
                'fieldBazScan'                         : true,
                'fieldDataInputMinLength'              : 1,
                'fieldDataInputMaxLength'              : 1024,
                'fieldTextareaRows'                    : 2,
                'fieldBazPostOnCreate'                 : false,
                'fieldBazPostOnUpdate'                 : false
            ]
        )}}
    </div>
</div>
<div class="row">
    <div class="col">
        {{adminltetags.useTag('buttons',
            [
                'component'                      : component,
                'componentName'                  : componentName,
                'componentId'                    : componentId,
                'sectionId'                      : sectionId,
                'buttonType'                     : 'button',
                'buttons'                        :
                    [
                        'add-specification'       : [
                            'title'                   : 'Add Specification',
                            'disabled'                : true,
                            'size'                    : 'xs',
                            'type'                    : 'primary',
                            'icon'                    : 'plus',
                            'position'                : 'right'
                        ],
                        'cancel-specification'    : [
                            'title'                   : 'Cancel',
                            'disabled'                : true,
                            'size'                    : 'xs',
                            'type'                    : 'secondary',
                            'icon'                    : 'times',
                            'position'                : 'right'
                        ]
                    ]
            ]
        )}}
    </div>
</div>
<div class="row">
    <div class="col specifications">
        {{adminltetags.useTag('fields',
            [
                'component'                     : component,
                'componentName'                 : componentName,
                'componentId'                   : componentId,
                'sectionId'                     : sectionId,
                'fieldId'                       : 'specifications',
                'fieldLabel'                    : 'Specifications',
                'fieldType'                     : 'html',
                'fieldHelp'                     : true,
                'fieldHelpTooltipContent'       : 'You can drag specification to sort accordingly, otherwise sorting is done alphabetically',
                'fieldAdditionalClass'          : 'mb-0',
                'fieldRequired'                 : false,
                'fieldBazScan'                  : true,
                'fieldBazJstreeSearch'          : true,
                'fieldBazPostOnCreate'          : true,
                'fieldBazPostOnUpdate'          : true
            ]
        )}}
        {% if productSpecifications is defined and productSpecifications|length > 0 %}
            <div class="list-group-item list-group-item-secondary no-data rounded-0" id="{{componentId}}-{{sectionId}}-specifications-nodata" hidden>
                <div class="row">
                    <div class="col text-uppercase">
                        <i class="fa fa-fw fa-exclamation"></i> Add specification
                    </div>
                </div>
            </div>
            {% for specificationsKey, specifications in productSpecifications %}
                {{adminltetags.useTag('fields',
                    [
                        'component'                     : component,
                        'componentName'                 : componentName,
                        'componentId'                   : componentId,
                        'sectionId'                     : sectionId,
                        'fieldId'                       : 'specifications-' ~ specifications['group_id'],
                        'fieldLabel'                    : specifications['group'] ~ ' Specifications',
                        'fieldType'                     : 'html',
                        'fieldHelp'                     : false,
                        'fieldHelpTooltipContent'       : specifications['group'],
                        'fieldAdditionalClass'          : 'mb-0 mt-2',
                        'fieldRequired'                 : false,
                        'fieldBazScan'                  : false,
                        'fieldBazJstreeSearch'          : false,
                        'fieldBazPostOnCreate'          : false,
                        'fieldBazPostOnUpdate'          : false
                    ]
                )}}
                <ul class="list-group list-group-sortable" data-listspecificationsgroupid="{{specifications['group_id']}}" data-listspecificationsgroupname="{{specifications['group']}}" id="{{componentId}}-{{sectionId}}-sortable-specifications-{{specifications['group_id']}}">
                    {% for specificationKey, specification in specifications['specifications'] %}
                        <li class="list-group-item list-group-item-primary rounded-0" area-disabled="false" style="cursor: pointer" data-listspecificationsgroupid="{{specifications['group_id']}}" data-listspecificationsgroupname="{{specifications['group']}}" data-specification-id="{{specification['specification_id']}}">
                            <div class="row">
                                <div class="col">
                                    <i class="fa fa-sort fa-fw handle"></i>
                                </div>
                                <div class="col">
                                    <button data-sort-id="" type="button" class="btn btn-xs btn-danger float-right ml-1 specificationDeleteButton">
                                        <i class="fa fas fa-fw text-xs fa-trash"></i>
                                    </button>
                                    <button data-sort-id="" type="button" class="btn btn-xs btn-primary float-right ml-1 specificationEditButton">
                                        <i class="fa fas fa-fw text-xs fa-edit"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col list-group-item-data">
                                    <dl class="row mb-0">
                                        <dt class="text-uppercase mb-0 col-sm-4 cla-specification">{{specification['specification']}}</dt>
                                        <dd class="text-uppercase mb-0 col-sm-8 cla-specification-value">{{specification['specification_value']}}</dd>
                                    </dl>
                                </div>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
                <hr>
            {% endfor %}
        {% else %}
            <div class="list-group-item list-group-item-secondary no-data rounded-0" id="{{componentId}}-{{sectionId}}-specifications-nodata">
                <div class="row">
                    <div class="col text-uppercase">
                        <i class="fa fa-fw fa-exclamation"></i> Add specification
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</div>