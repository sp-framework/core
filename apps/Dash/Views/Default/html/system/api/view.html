{% if api['id'] is defined %}
    {% set apiId = api['id'] %}
    {% set title = api['api_type'] ~ ' API (' ~ api['name'] ~ ')' %}
{% else %}
    {% set apiId = '' %}
    {% set title = 'New ' ~ api['api_type'] ~ ' API' %}
{% endif %}

{% if api['api_type'] === 'repo' %}
    {{adminltetags.useTag('content',
        [
            'component'                     : component,
            'componentName'                 : componentName,
            'componentId'                   : componentId,
            'parentComponentId'             : parent,
            'sectionId'                     : 'main',
            'contentType'                   : 'sectionWithForm',
            'cardHeader'                    : true,
            'cardFooter'                    : true,
            'cardType'                      : 'primary',
            'cardIcon'                      : 'exchange-alt',
            'cardTitle'                     : title,
            'cardAdditionalClass'           : 'rounded-0',
            'cardBodyInclude'               : 'api/types/repo/form',
            'formButtons'                   :
            [
                'updateButtonId'                : apiId,
                'addActionUrl'                  : 'system/api/add',
                'addSuccessRedirectUrl'         : 'system/api',
                'updateActionUrl'               : 'system/api/update',
                'updateSuccessRedirectUrl'      : 'system/api',
                'cancelActionUrl'               : 'system/api',
                'closeActionUrl'                : 'system/api'
            ]
        ]
    )}}
{% elseif api['api_type'] === 'generic' %}
    {{adminltetags.useTag('content',
        [
            'component'                     : component,
            'componentName'                 : componentName,
            'componentId'                   : componentId,
            'parentComponentId'             : parent,
            'sectionId'                     : 'main',
            'contentType'                   : 'sectionWithForm',
            'cardHeader'                    : true,
            'cardFooter'                    : true,
            'cardType'                      : 'primary',
            'cardIcon'                      : 'exchange-alt',
            'cardTitle'                     : title,
            'cardAdditionalClass'           : 'rounded-0',
            'cardBodyInclude'               : 'api/types/generic/form',
            'formButtons'                   :
            [
                'updateButtonId'                : apiId,
                'addActionUrl'                  : 'system/api/add',
                'addSuccessRedirectUrl'         : 'system/api',
                'updateActionUrl'               : 'system/api/update',
                'updateSuccessRedirectUrl'      : 'system/api',
                'cancelActionUrl'               : 'system/api',
                'closeActionUrl'                : 'system/api'
            ]
        ]
    )}}
{% endif %}